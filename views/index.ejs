<section>
  <h1>Danh sรกch sแบฃn phแบฉm</h1>
  <form method="get" class="search-bar">
    <div class="search-input-group">
      <span class="search-icon">๐</span>
      <input type="text" name="q" placeholder="Tรฌm kiแบฟm sแบฃn phแบฉm..." value="<%= q %>" autocomplete="off">
    </div>
    <div class="search-input-group">
      <span class="search-icon">๐ข</span>
      <select name="supplier">
        <option value="all" <%= supplierSelected==='all'?'selected':'' %>>Tแบฅt cแบฃ nhร cung cแบฅp</option>
        <% suppliers.forEach(s=>{ %>
          <option value="<%= s._id %>" <%= (supplierSelected==s._id.toString())?'selected':'' %>><%= s.name %></option>
        <% }) %>
      </select>
    </div>
    <button class="btn search-btn" type="submit">Lแปc</button>
  </form>

  <div class="grid">
    <% const cardColors = ['#fef9c3', '#d1fae5', '#e0e7ff', '#fee2e2', '#f3e8ff', '#cffafe', '#fde68a', '#e0f2fe']; %>
    <% products.forEach((p, idx)=>{ %>
  <div class="card product-card" style="background: '<%= cardColors[idx % cardColors.length] %>';">
        <h3><%= p.name %></h3>
        <p>๐ฒ <strong><%= p.price.toLocaleString() %></strong></p>
        <p>๐ฆ <%= p.quantity %> cรกi</p>
        <p>๐ข <%= p.supplier ? p.supplier.name : 'โ' %></p>
      </div>
    <% }) %>
  </div>
</section>
